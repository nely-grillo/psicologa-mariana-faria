<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Artigos — Psicóloga Mariana Faria</title>
  <meta name="description" content="Lista de artigos e insights sobre ansiedade, estresse e bem-estar." />
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body class="bg-gray-50 text-gray-900">
  <header class="bg-white shadow-sm">
    <div class="max-w-6xl mx-auto px-4 py-6">
      <a href="/" class="text-xl font-bold text-blue-600">Psicóloga Mariana Faria</a>
      <p class="text-sm text-gray-500">Artigos e insights</p>
    </div>
  </header>

    <main class="max-w-6xl mx-auto px-4 py-12">
    <h1 class="text-3xl font-extrabold mb-6">Todos os Artigos</h1>
    <p class="text-gray-600 mb-8">Encontre aqui conteúdos sobre ansiedade, estresse e práticas para bem-estar emocional.</p>

    <div id="posts-grid" class="grid gap-8 grid-cols-1 md:grid-cols-2 lg:grid-cols-3">
      <!-- Grid será preenchido dinamicamente a partir de /posts/blog-posts.json -->
    </div>

    <div class="mt-12">
      <a href="/" class="inline-block px-6 py-3 bg-blue-600 text-white rounded-lg">Voltar ao Início</a>
    </div>
  </main>

  <script>
    // Carrega os mesmos posts compartilhados pelo site
    async function loadPostsGrid(jsonPath = '/posts/blog-posts.json') {
      const grid = document.getElementById('posts-grid');
      try {
        const res = await fetch(jsonPath, { cache: 'no-cache' });
        if (!res.ok) throw new Error('Falha ao carregar posts');
        const posts = await res.json();

        posts.forEach(post => {
          const article = document.createElement('article');
          article.className = 'bg-white rounded-xl shadow-sm overflow-hidden';

          const a = document.createElement('a');
          a.href = post.link || '#';
          if (post.link && post.link.startsWith('http')) {
            a.target = '_blank';
            a.rel = 'noopener noreferrer';
          }
          a.className = 'block';

          const img = document.createElement('img');
          img.src = post.image;
          img.alt = post.title;
          img.className = 'w-full h-48 object-cover';

          const div = document.createElement('div');
          div.className = 'p-4';

          const h2 = document.createElement('h2');
          h2.className = 'font-semibold text-lg';
          h2.textContent = post.title;

          const p = document.createElement('p');
          p.className = 'text-sm text-gray-600 mt-2';
          p.textContent = post.excerpt;

          div.appendChild(h2);
          div.appendChild(p);
          a.appendChild(img);
          a.appendChild(div);
          article.appendChild(a);
          grid.appendChild(article);
        });
      } catch (err) {
        console.error('Erro ao carregar posts:', err);
        grid.innerHTML = '<p class="text-gray-500">Não foi possível carregar os artigos.</p>';
      }
    }

    loadPostsGrid();
  </script>

  <footer class="bg-white border-t mt-12">
    <div class="max-w-6xl mx-auto px-4 py-6 text-sm text-gray-500">© Mariana Faria</div>
  </footer>
  <div class="max-w-6xl mx-auto px-4 text-xs text-gray-500 mt-4 mb-8">
    Ícone Whatsapp por <a href="https://icons8.com/icon/16713/whatsapp" target="_blank" rel="noopener noreferrer" class="underline">Whatsapp</a> e ícone Instagram por <a href="https://icons8.com/icon/Xy10Jcu1L2Su/instagram" target="_blank" rel="noopener noreferrer" class="underline">Instagram</a>, via <a href="https://icons8.com" target="_blank" rel="noopener noreferrer" class="underline">Icons8</a>.
  </div>
</body>
</html>
